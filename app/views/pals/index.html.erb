<h1 class="title is-2 has-text-centered">Pals Deck</h1>
<%= form_with(url: search_pals_path, method: :get, local: true) do %>
  <div class="field is-grouped mb-5">
    <div class="control is-expanded">
      <%= text_field_tag(:keywords, nil, id:"other_keywords", class: "input", placeholder: "Search For Pals by Name") %>
    </div>
    <div class="control">
      <%= select_tag :region, options_for_select((@regions || []).unshift('All Regions'), params[:region]), include_blank: 'Select Region' %>
    </div>
    <div class="control">
      <%= submit_tag("Search", class:"button is-primary")%>
    </div>
  </div>
<% end %>

<!-- Include jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<!-- Handle dropdown change event with jQuery -->
<script>
  $(document).ready(function() {
    $('#region').change(function() {
      $('#search-form').submit();
    });
  });
</script>
<%= paginate @pals %>

<%= render @pals %>

<%= paginate @pals %>
